# 进入保护模式的步骤
- 构造GDT
- 从软盘加载其余内核到0x1000处
- 关闭中断cli
- 把内核前512字节移动到0x0000处，由这段代码移动其余内核在其后
- 把gdt移动到idt后面（idt在0x80000处）
- 打开A20
- 用lgdt加载gdtr
- 置CRO寄存器PE位为1




# GDT Global Descriptor Table 

保护模式访问内存同样使用段地址和偏移地址的方式，不同之处是可访问的段必须先在一个称为全局描述符的地方登记。每个段使用前都要建立在一个连续的内存区域建立描述符，一个挨一个组成表，称为全局描述符表。

进入保护模式之前要先在内存上建立GDT，GDT可以放在内存的任意位置。cpu如何知道GDT具体在内存什么地方呢？在cpu内有个48位的寄存器GDTR，前32位保存gdt的内存基地址，后16位保存gdt的界限(gdt占用了多少字节-1)

选择子是描述符的索引，16位。由2位RPL请求权限等级，1位TI描述符类型GDT=0,LDT=1,13位索引值组成
可见选择子转入内存的时候会根据RPL及请求的描述符做鉴权

描述符需要描述的内容有：
- 基地址，内存段的地址索引
- 段长度，内存段的大小
- 访问控制权限级别
- 其他属性
